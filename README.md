# Xiaoyi (å°æ˜“çŒœçŒœ) æ™ºèƒ½é‡‘èåˆ†æå¹³å°

![Project Preview](README_assets/preview.png)

## ğŸ“– é¡¹ç›®ä»‹ç»

**Xiaoyi (å°æ˜“çŒœçŒœ)** æ˜¯ä¸€ä¸ªåŸºäºå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„æ™ºèƒ½é‡‘èåˆ†æå¹³å°ã€‚å®ƒç»“åˆäº†å…ˆè¿›çš„ RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰æŠ€æœ¯ã€å®æ—¶è‚¡ç¥¨æ•°æ®åˆ†æå’Œå¤šå› å­é‡åŒ–æ¨¡å‹ï¼Œä¸ºç”¨æˆ·æä¾›æ·±åº¦çš„å¸‚åœºæ´å¯Ÿå’Œä¸ªæ€§åŒ–çš„æŠ•èµ„å»ºè®®ã€‚

æ ¸å¿ƒèƒ½åŠ›åŒ…æ‹¬ï¼š
- **å®æ—¶å¸‚åœºæƒ…ç»ªåˆ†æ**ï¼šåŸºäºæ–°é—»å’Œç¤¾äº¤åª’ä½“æ•°æ®ï¼Œå®æ—¶é‡åŒ–å¸‚åœºæƒ…ç»ªã€‚
- **æ™ºèƒ½ç ”æŠ¥æ£€ç´¢**ï¼šé€šè¿‡ RAG æŠ€æœ¯ï¼Œå¿«é€Ÿæ£€ç´¢å¹¶æ€»ç»“æµ·é‡ç ”æŠ¥ä¸­çš„å…³é”®ä¿¡æ¯ã€‚
- **å¤šå› å­å…³è”åˆ†æ**ï¼šæ·±åº¦æŒ–æ˜è‚¡ä»·ä¸å®è§‚ç»æµã€è¡Œä¸šæ”¿ç­–ç­‰å› å­çš„å…³è”ã€‚
- **äº¤äº’å¼é¢„æµ‹æ¨¡å‹**ï¼šæ”¯æŒå¦‚ Prophet ç­‰æ¨¡å‹è¿›è¡Œè‚¡ä»·è¶‹åŠ¿é¢„æµ‹å’Œå›æµ‹ã€‚
- **æµå¼å¯¹è¯ä½“éªŒ**ï¼šæä¾›ç±»ä¼¼ ChatGPT çš„æµç•…å¯¹è¯ä½“éªŒï¼Œæ”¯æŒå®æ—¶æ•°æ®æµå¼ä¼ è¾“ã€‚

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆä¸ç¯å¢ƒé…ç½®

æœ¬é¡¹ç›®é‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œæ³¨é‡é«˜æ€§èƒ½ä¸å¼€å‘ä½“éªŒã€‚

### åç«¯ (Backend)
- **æ ¸å¿ƒæ¡†æ¶**: FastAPI (Python 3.12+)
- **åŒ…ç®¡ç†å™¨**: `uv` (æ¨è) æˆ– `conda`
- **æ•°æ®å­˜å‚¨**: Redis (ç¼“å­˜/ä¼šè¯), MongoDB (æŒä¹…åŒ–æ•°æ®)
- **AI/LLM**: LangChain, AkShare (é‡‘èæ•°æ®), Prophet (é¢„æµ‹)

### å‰ç«¯ (Frontend)
- **æ ¸å¿ƒæ¡†æ¶**: Next.js 14 (React)
- **åŒ…ç®¡ç†å™¨**: `pnpm`
- **UI ç»„ä»¶**: Shadcn UI, Tailwind CSS
- **å¯è§†åŒ–**: Recharts, ECharts

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### 1. ç¯å¢ƒå‡†å¤‡
ç¡®ä¿æ‚¨çš„ç³»ç»Ÿå·²å®‰è£…ï¼š
- Python >= 3.12
- Node.js >= 18
- Redis & MongoDB (æœ¬åœ°è¿è¡Œæˆ– Docker)

### 2. åç«¯å¯åŠ¨ (ä½¿ç”¨ uv)

æ¨èä½¿ç”¨ [uv](https://github.com/astral-sh/uv) è¿›è¡Œæé€Ÿä¾èµ–ç®¡ç†ã€‚

```bash
# è¿›å…¥åç«¯ç›®å½•
cd backend

# 1. å¤åˆ¶ç¯å¢ƒå˜é‡é…ç½®
cp .env.example .env
# âš ï¸ æ³¨æ„ï¼šè¯·åœ¨ .env ä¸­å¡«å…¥æ‚¨çš„ DEEPSEEK_API_KEY, MONGODB_URI, REDIS_URL ç­‰æ•æ„Ÿä¿¡æ¯

# 2. å®‰è£…ä¾èµ– (ä½¿ç”¨ uv)
uv sync

# 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
# --reload å¯ç”¨çƒ­é‡è½½
uv run uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload
```

*(å¯é€‰) ä½¿ç”¨ Conda å¯åŠ¨:*
```bash
conda create -n xiaoyi python=3.12
conda activate xiaoyi
pip install -r requirements.txt
uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload
```

### 3. å‰ç«¯å¯åŠ¨ (ä½¿ç”¨ pnpm)

```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# 1. å®‰è£…ä¾èµ–
pnpm install

# 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm run dev
```

å‰ç«¯è®¿é—®åœ°å€: [http://localhost:3000](http://localhost:3000)

> **æ³¨æ„**: å‰ç«¯ API è¯·æ±‚é»˜è®¤é€šè¿‡ Next.js Proxy (`/api` -> `http://127.0.0.1:8000`) è½¬å‘ï¼Œè¯·ç¡®ä¿åç«¯æ­£å¸¸è¿è¡Œåœ¨ 8000 ç«¯å£ã€‚

---

## ğŸ“‚ é¡¹ç›®ç»“æ„

### /backend (åç«¯)
```
backend/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ agents/          # AI æ™ºèƒ½ä½“ (EventSummary, Suggestion ç­‰)
â”‚   â”œâ”€â”€ api/             # API è·¯ç”±å®šä¹‰ (v1, v2)
â”‚   â”œâ”€â”€ core/            # æ ¸å¿ƒé…ç½® (Config, Redis, Logging)
â”‚   â”œâ”€â”€ data/            # æ•°æ®è·å–ä¸å¤„ç† (AkShare, StockDB)
â”‚   â”œâ”€â”€ models/          # æ•°æ®åº“æ¨¡å‹å®šä¹‰ (Pydantic/ORM)
â”‚   â”œâ”€â”€ services/        # ä¸šåŠ¡é€»è¾‘æœåŠ¡ (RAG, Stock Matcher)
â”‚   â””â”€â”€ main.py          # ç¨‹åºå…¥å£
â”œâ”€â”€ scripts/             # è¿ç»´ä¸æµ‹è¯•è„šæœ¬
â”œâ”€â”€ pyproject.toml       # é¡¹ç›®ä¾èµ–é…ç½® (uv)
â””â”€â”€ Dockerfile           # Docker æ„å»ºæ–‡ä»¶
```

### /frontend (å‰ç«¯)
```
frontend/
â”œâ”€â”€ app/                 # Next.js App Router é¡µé¢
â”œâ”€â”€ components/          # UI ç»„ä»¶
â”‚   â”œâ”€â”€ charts/          # å›¾è¡¨ç»„ä»¶ (Kçº¿, é¢„æµ‹å›¾)
â”‚   â””â”€â”€ ui/              # åŸºç¡€ UI ç»„ä»¶ (Button, Card ç­‰)
â”œâ”€â”€ lib/                 # å·¥å…·åº“
â”‚   â”œâ”€â”€ api/             # API å®¢æˆ·ç«¯å°è£…
â”‚   â””â”€â”€ utils/           # é€šç”¨å·¥å…·å‡½æ•°
â”œâ”€â”€ hooks/               # React Hooks (useSessionManager ç­‰)
â”œâ”€â”€ public/              # é™æ€èµ„æº
â””â”€â”€ next.config.js       # Next.js é…ç½® (å« Proxy)
```
